webpackJsonp([0],[,function(module,exports,__webpack_require__){function curry$(n,t){var e,r=function(a){return n.length>1?function(){var i=a?a.concat():[];return e=t?e||this:this,i.push.apply(i,arguments)<n.length&&arguments.length?r.call(e,i):n.apply(e,i)}:n};return r()}function repeatArray$(n,t){for(var e=[];t>0;(t>>=1)&&(n=n.concat(n)))1&t&&e.push.apply(e,n);return e}var ref$,map,zip,zipWith,zipAll,drop,apply,andList,findIndex,elemIndex,trace,traceJson,findEdit,raise,list,enumerate,enumerateWith,peek,out$=void 0!==exports&&exports||this,slice$=[].slice;ref$=__webpack_require__(0),map=ref$.map,zip=ref$.zip,zipWith=ref$.zipWith,zipAll=ref$.zipAll,drop=ref$.drop,apply=ref$.apply,andList=ref$.andList,findIndex=ref$.findIndex,elemIndex=ref$.elemIndex,out$.trace=trace=function(){return console.log.apply(this,arguments),arguments[arguments.length-1]},out$.traceJson=traceJson=function(){return console.log.apply(console,map(JSON.stringify,arguments)),arguments[arguments.length-1]},out$.findEdit=findEdit=curry$(function(n,t,e){var r,a,i;return 1<Math.abs(t.length-e.length)?null:(r=elemIndex(!1,zipWith(n,t,e)),t.length!==e.length||null!=r?(null==r&&(r=Math.min(t.length,e.length)),a=function(){switch(t.length-e.length){case 1:return"deletion";case 0:return"substitution";case-1:return"insertion"}}(),i=Math.min(t.length,e.length)-r-(t.length===e.length),andList(zipWith(n,slice$.call(t,t.length-i),slice$.call(e,e.length-i)))?[r,a]:null):void 0)}),out$.raise=raise=function(key,value,log){null==value&&(value=eval(key)),null==log&&(log=!1),window[key]=value,log&&console.log(value)},out$.list=list=function(){return slice$.call(arguments,0)},out$.enumerate=enumerate=function(n){return zip(function(){var t,e,r=[];for(t=0,e=n.length;t<e;++t)r.push(t);return r}(),n)},out$.enumerateWith=enumerateWith=curry$(function(n,t){return zipWith(n,function(){var n,e,r=[];for(n=0,e=t.length;n<e;++n)r.push(n);return r}(),t)}),out$.peek=peek=curry$(function(n,t){return apply(zipAll)(enumerateWith(function(){return drop(arguments[0],arguments[1])})(repeatArray$([t],n)))})},function(n,t,e){function r(n,t){for(var e=-1,r=t.length>>>0;++e<r;)if(n===t[e])return!0;return!1}function a(n,t){var e,r=function(a){return n.length>1?function(){var i=a?a.concat():[];return e=t?e||this:this,i.push.apply(i,arguments)<n.length&&arguments.length?r.call(e,i):n.apply(e,i)}:n};return r()}var i,o,u,c,l,s,p,f,h,d,v,g,m,y,w,x,b=void 0!==t&&t||this;i=e(0),o=i.map,u=i.elemIndex,c=e(5).isZero,b.Complex=function(n,t){return null==t&&(t=0),Array.isArray(n)?n:[n,t]},b.one=[1,0],b.zero=[0,0],b.i=[0,1],b.j=[0,1],b.e=l=[Math.E,0],b.pi=[Math.PI,0],b.real=function(n){return n[0]},b.imag=s=function(n){return n[1]},b.isReal=p=function(){var n=arguments;return function(){var t,e;for(e=n[0].apply(this,arguments),t=1;t<n.length;++t)e=n[t](e);return e}}(s,c),b.toString=function(n,t){var e,a,i,l,s;switch(e=n[0],a=n[1],null==t&&(t=5),i=o(c,[e,a]),l=i[0],s=i[1],i=o(function(n){var e;switch(e=n.toString(),!1){case!r("e",e):return n.toExponential(t);case!r(".",e):return n.toFixed(Math.min(t,e.length-1-u(".",e)));default:return e}},[e,a]),e=i[0],a=i[1],!1){case!(l&&s):return"0";case!s:return e+"";case!l:return a+"i";case!(a<0):return e+""+a+"i";default:return e+"+"+a+"i"}},b.negate=function(n){var t,e;return t=n[0],e=n[1],[-t,-e]},b.abs=f=function(n){var t,e;return t=n[0],e=n[1],Math.sqrt(Math.pow(t,2)+Math.pow(e,2))},b.abs2=h=function(n){var t,e;return t=n[0],e=n[1],Math.pow(t,2)+Math.pow(e,2)},b.closeTo=a(function(n,t,e){return n*n>=h(y(t,e))}),b.angle=d=function(n){var t,e;return t=n[0],e=n[1],Math.atan2(e,t)},b.conj=v=function(n){var t,e;return t=n[0],e=n[1],[t,-e]},b.pair=function(n){return p(n)?[n]:[n,v(n)]},b.top=function(n){switch(!1){case!c(n[1]):case!(n[1]>0):return n;default:return[n[0],-n[1]]}},b.polar=g=function(n){return[f(n),d(n)]},b.rect=m=function(n){var t,e;return t=n[0],e=n[1],[t*Math.cos(e),t*Math.sin(e)]},b.add=a(function(n,t){var e,r,a,i;return e=n[0],r=n[1],a=t[0],i=t[1],[e+a,r+i]}),b.sub=y=a(function(n,t){var e,r,a,i;return e=n[0],r=n[1],a=t[0],i=t[1],[e-a,r-i]}),b.mul=w=a(function(n,t){var e,r,a,i;return e=n[0],r=n[1],a=t[0],i=t[1],[e*a-r*i,a*r+e*i]}),b.div=a(function(n,t){var e,r,a,i,o;return e=n[0],r=n[1],a=t[0],i=t[1],o=Math.pow(a,2)+Math.pow(i,2),[(e*a+r*i)/o,(a*r-e*i)/o]}),b.pow=x=a(function(n,t){var e,r,a,i,o,u,s,p,f;switch(e=n[0],r=n[1],a=t[0],i=t[1],o=[c(r),c(i)],u=o[0],s=o[1],!1){case!(u&&s):return[Math.pow(e,a),0];case!u:return m([Math.pow(e,a),i*Math.log(e)]);case!s:return o=g([e,r]),p=o[0],f=o[1],m([Math.pow(p,a),f*a]);default:return f=d([e,r]),w(x([e*e+r*r,0],[a/2,i/2]),x(l,[-i*f,a*f]))}}),b.exp=x(l),b.iexp=function(n){return m([1,n])}},,function(n,t,e){function r(n,t){function e(){}return e.prototype=(n.superclass=t).prototype,(n.prototype=new e).constructor=n,"function"==typeof t.extended&&t.extended(n),n}function a(n,t){var e={}.hasOwnProperty;for(var r in t)e.call(t,r)&&(n[r]=t[r]);return n}function i(n,t,e){var r=this;return function(){var a,o=z.call(arguments),u=o.length,c=e.length,l=t?t.concat():[],s=e?e.concat():[];for(a=0;a<u;++a)l[s[0]]=o[a],s.shift();return u<c&&u?i.apply(r,[n,l,s]):n.apply(r,l)}}var o,u,c,l,s,p,f,h,d,v,g,m,y,w,x,b,k,E=void 0!==t&&t||this,z=[].slice;o=e(0),u=o.map,c=o.concatMap,l=o.pairsToObj,o.objToPairs,s=o.apply,p=e(2),e(1).trace,E.Token=f=function(){function n(){}n.displayName="Token";n.prototype;return n}(),E.Number=h=function(n){function t(n){this.value=p.Complex(n)}r((a(t,n).displayName="Number",t),n).prototype;return t}(f),E.Constant=d=function(n){function t(){t.superclass.apply(this,arguments)}r((a(t,n).displayName="Constant",t),n).prototype;return t}(h),E.constants={pi:new d(p.pi),e:new d(p.e),j:new d(p.j),i:new d(p.i)},E.Bracket=v=function(n){function t(n,t){this.val=n,this.comp=t}r((a(t,n).displayName="Bracket",t),n).prototype;return t}(f),E.LeftBracket=g=function(n){function t(){t.superclass.apply(this,arguments)}r((a(t,n).displayName="LeftBracket",t),n).prototype;return t}(v),E.RightBracket=m=function(n){function t(){t.superclass.apply(this,arguments)}r((a(t,n).displayName="RightBracket",t),n).prototype;return t}(v),E.brackets=y=l(u(function(n){return[n[0],new v(n[0],n[1])]})(c(function(n){return[n,n.split("").reverse().join("")]})(["()","[]","{}"]))),E.leftBrackets=l(u(function(n){return[n,new g(n,y[n].comp)]})(["(","[","{"])),E.rightBrackets=l(u(function(n){return[n,new m(n,y[n].comp)]})([")","]","}"])),E.Operator=w=function(n){function t(n,t,e){this.op=n,this.prec=t,this.fix=e}r((a(t,n).displayName="Operator",t),n).prototype;return t}(f),E.operators={"+":new w(p.add,1,"l"),"-":new w(p.sub,1,"l"),"*":new w(p.mul,2,"l"),"/":new w(p.div,2,"l"),"^":new w(p.pow,3,"r")},E.Separator=x=function(n){function t(n){this.type=n}r((a(t,n).displayName="Separator",t),n).prototype;return t}(f),E.separators={",":new x(",")},E.Function=b=function(n){function t(n){this.func=n}r((a(t,n).displayName="Function",t),n).prototype;return t}(f),E.RealFunction=k=function(n){function t(n){this.func=function(){var t,e,r,a,i,o;for(e=[],r=0,a=arguments.length;r<a;++r)e.push(arguments[r]);for(t=e,r=0,i=t.length;r<i;++r)if(o=t[r],!p.isReal(o))throw new Error("complex argument to real function");return s(n,u(p.real,t))}}r((a(t,n).displayName="RealFunction",t),n).prototype;return t}(b),E.functions={sin:new k(Math.sin),cos:new k(Math.cos),tan:new k(Math.tan),asin:new k(Math.asin),acos:new k(Math.acos),atan:new k(Math.atan),log:new k(Math.log10),ln:new k(Math.log),sqrt:new b(i.apply(p,[p.pow,[void 0,[.5,0]],[0]])),exp:new b(p.exp)}},function(n,t,e){var r,a,i,o,u,c,l,s,p,f,h=void 0!==t&&t||this;r=e(0),a=r.fold,i=r.last,o=r.head,u=r.tail,c=r.zipWith,l=r.map,s=e(2),p=1e-10,h.isZero=function(){var n=arguments;return function(){var t,e;for(e=n[0].apply(this,arguments),t=1;t<n.length;++t)e=n[t](e);return e}}(Math.abs,function(n){return n<p}),h.addRoot=f=function(n,t){var e,r=function(a){return n.length>1?function(){var i=a?a.concat():[];return e=t?e||this:this,i.push.apply(i,arguments)<n.length&&arguments.length?r.call(e,i):n.apply(e,i)}:n};return r()}(function(n,t){return t=s.negate(s.Complex(t)),[s.mul(o(n),t)].concat(c(s.add,n,l(s.mul(t),u(n))),[i(n)])}),h.toPolynomial=function(n){return a(f,[s.one],n)}},function(n,t,e){var r,a,i,o,u,c,l,s,p=void 0!==t&&t||this;r=e(0),a=r.apply,i=r.reverse,o=e(4),u=e(20).tokenize,c=e(19).shunting,e(1),l=function(n){return function(){if(!n.length)throw new Error("not enough numbers");return n.pop()}},p.calcRpn=s=function(n){var t,e,r,u,c;for(t=[],e=l(t),r=0,u=n.length;r<u;++r)switch(c=n[r],!1){case!(c instanceof o.Number):t.push(c);break;case!(c instanceof o.Function):t.push(new o.Number(a(c.func,i(function(){var n,t=[];for(n=0;n<1;++n)t.push(e().value);return t}()))));break;case!(c instanceof o.Operator):t.push(new o.Number(a(c.op,i([e().value,e().value]))));break;default:throw new Error("invalid token")}if(1!==t.length)throw"too many numbers";return t[0]},p.evaluate=function(){var n=arguments;return function(){var t,e;for(e=n[0].apply(this,arguments),t=1;t<n.length;++t)e=n[t](e);return e}}(u,c,s,function(n){return n.value})},function(n,t,e){function r(n,t){for(var e=[];t>0;(t>>=1)&&(n=n.concat(n)))1&t&&e.push.apply(e,n);return e}function a(n,t){var e,r=function(a){return n.length>1?function(){var i=a?a.concat():[];return e=t?e||this:this,i.push.apply(i,arguments)<n.length&&arguments.length?r.call(e,i):n.apply(e,i)}:n};return r()}var i,o,u,c,l,s,p,f,h=void 0!==t&&t||this;i=e(0),o=i.map,u=i.zipWith,c=i.maximum,l=i.id,s=i.negate,p=e(2),h.fft=a(function(n,t){return n=function(n){return Math.pow(2,n)}(Math.ceil(Math.log2(c([n,t.length])))),t=o(p.Complex,t).concat(r([p.zero],n-t.length)),f(s,t)}),h.ifft=a(function(n,t){return n=function(n){return Math.pow(2,n)}(Math.ceil(Math.log2(c([n,t.length])))),t=o(p.Complex,t).concat(r([p.zero],n-t.length)),o(function(t){var e,r;return e=t[0],r=t[1],[e/n,r/n]},f(l,t))}),f=a(function(n,t){var e,r,a,i,o,c;if((e=t.length/2)<1)return t;for(t=f(n,function(){var n,e,r,a=[];for(e=0,r=t.length;e<r;e+=2)(n=e)<t.length&&a.push(t[n]);return a}()).concat(u(p.mul,f(n,function(){var n,e,r,a=[];for(e=1,r=t.length;e<r;e+=2)(n=e)<t.length&&a.push(t[n]);return a}()),function(){var t,a,i=[];for(t=0,a=e;t<a;++t)r=t,i.push(p.iexp(n(Math.PI*r/e)));return i}())),a=0;a<e;++a)r=a,i=[t[r],t[r+e]],o=i[0],c=i[1],t[r]=p.add(o,c),t[r+e]=p.sub(o,c);return t})},function(n,t,e){var r,a,i,o;r=e(0),a=r.flip,i=r.each,o=r.map,a(i)(document.getElementsByClassName("draggable"),function(n){var t,e,r,a,i,u,c,l;t=[null,0,0,0,0],e=t[0],r=t[1],a=t[2],i=t[3],u=t[4],c=function(n){var t,o;n.stopPropagation(),window.getSelection().removeAllRanges(),e.style.left=((t=0>(o=n.clientX-r)?0:o)<i?t:i)+"px",e.style.top=((t=0>(o=n.clientY-a)?0:o)<u?t:u)+"px"},l=function(t){n.style.cursor="default",document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",l)},n.addEventListener("mousedown",function(t){var s,p,f;e=null!=n.getAttribute("dragtarget")?document.querySelector(n.getAttribute("dragtarget")):n,s=o(function(n){return n.getBoundingClientRect()},[e,e.parentElement]),p=s[0],f=s[1],s=[parseInt(t.clientX)-parseInt(p.left),parseInt(t.clientY)-parseInt(p.top)],r=s[0],a=s[1],s=[parseInt(f.width)-parseInt(p.width),parseInt(f.height)-parseInt(p.height)],i=s[0],u=s[1],n.style.cursor="move",document.addEventListener("mousemove",c),document.addEventListener("mouseup",l)})})},function(n,t,e){var r,a,i,o,u,c,l=void 0!==t&&t||this;r=e(0),r.flip,r.each,r.id,r.flatten,r=e(1),r.list,r.trace,a={},a[null]=a[void 0]=a[void 0]=function(n){return{value:n,content:n}},l.createInput=i=function(n){var t,e;return null==n&&(n=null),t=document.createElement("input"),null!=n&&(t.value=n),t.type="text",e=function(n){n.stopPropagation(),o(t)},t.addEventListener("click",function(n){n.stopPropagation()}),t.addEventListener("blur",e),t.addEventListener("keydown",function(n){13===n.keyCode&&e.apply(this,arguments)}),t},l.removeInput=o=function(n,t){var e,r,i,o,l;if(null==t&&(t=!0),null!=(e=n.parentNode)&&(!t||null!=(r=e.parentNode))&&null!=(i=""===n.value?{value:"",content:""}:a[r](n.value))){if(o=i.value,""===i.content||""===i)return c(e);e.setAttribute("value",JSON.stringify(o)),e.textContent=i.content,n.remove(),t&&null==e.nextSibling&&(r.appendChild(l=u()),l.focus()),e.dispatchEvent(new Event("change")),e.parentNode.dispatchEvent(new Event("change"))}},l.createItem=u=function(n){var t;return null==n&&(n=null),t=document.createElement("li"),t.appendChild(i(n)),t.addEventListener("click",function(n){var e;n.stopPropagation(),e=i(t.textContent),t.textContent="",t.appendChild(e),e.focus()}),t},l.removeItem=c=function(n){var t,e;if(null!=(t=n.parentNode)){null==n.nextSibling&&(t.appendChild(e=u()),e.focus());try{n.remove()}catch(n){}t.dispatchEvent(new Event("change"))}},l.appendItem=function(n,t){var e,r,i;null==t&&(t=null),n.appendChild(e=u(t)),null!=(r=e.querySelector(":scope > input"))&&(null!=(i=a[n](t))?(o(r,!1),e.setAttribute("value",JSON.stringify(i.value)),e.textContent=i.content):r.focus())},l.attachValidator=function(n,t){var e,r=function(a){return n.length>1?function(){var i=a?a.concat():[];return e=t?e||this:this,i.push.apply(i,arguments)<n.length&&arguments.length?r.call(e,i):n.apply(e,i)}:n};return r()}(function(n,t){null==t&&(t=null),null==t&&(t=function(n){return{value:n,content:n}}),a[n]=t,null==n.querySelector(":scope > li")&&n.appendChild(u())})},function(n,t,e){var r,a,i,o,u=void 0!==t&&t||this;r=e(0),r.map,a=r.filter,i=function(n){var t,e;return t=document.createElement("object"),t.type="text/html",t.data="about:blank",e=t.classList,e.add("resize-trigger"),t.addEventListener("load",function(){this.contentDocument.defaultView.addEventListener("resize",function(){n.dispatchEvent(new Event("resize"))})}),t},o=function(){var n=arguments;return function(){var t,e;for(e=n[0].apply(this,arguments),t=1;t<n.length;++t)e=n[t](e);return e}}(function(n){return n.childNodes},a(function(n){return 1===n.nodeType}),a(function(n){return n.classList.contains("resize-trigger")})),u.attachResizeListener=function(n){o(n).length||n.appendChild(i(n))}},function(n,t,e){var r,a,i,o;r=e(0),a=r.flip,i=r.each,o=r.map,a(i)(document.getElementsByClassName("scalable"),function(n){var t,e,r,a,i,u,c,l;t=document.createElement("div"),t.classList.add("scalable-corner"),n.appendChild(t),e=[0,0,0,0],r=e[0],a=e[1],i=e[2],u=e[3],c=function(t){var e,o;t.stopPropagation(),window.getSelection().removeAllRanges(),n.style.width=((e=0>(o=t.clientX-r)?0:o)<i?e:i)+"px",n.style.height=((e=0>(o=t.clientY-a)?0:o)<u?e:u)+"px"},l=function(n){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",l)},t.addEventListener("mousedown",function(e){var s,p,f;e.stopPropagation(),s=o(function(n){return n.getBoundingClientRect()},[t,n,n.parentElement]),s[0],p=s[1],f=s[2],s=[parseInt(e.clientX)-parseInt(p.width),parseInt(e.clientY)-parseInt(p.height)],r=s[0],a=s[1],s=[parseInt(f.width)-parseInt(p.left),parseInt(f.height)-parseInt(p.top)],i=s[0],u=s[1],document.addEventListener("mousemove",c),document.addEventListener("mouseup",l)})})},function(n,t,e){function r(){var n=arguments;return function(){var t,e;for(e=n[0].apply(this,arguments),t=1;t<n.length;++t)e=n[t](e);return e}}function a(n,t){var e,r=function(a){return n.length>1?function(){var i=a?a.concat():[];return e=t?e||this:this,i.push.apply(i,arguments)<n.length&&arguments.length?r.call(e,i):n.apply(e,i)}:n};return r()}var i,o,u,c,l,s;i=e(0),o=i.flip,u=i.each,c=i.map,i.intersection,l=i.filter,s=i.findIndex,o(u)(document.getElementsByClassName("slide-container"),function(n){var t,e,i,o,u,p,f,h;t=c(function(n){return null!=n?document.querySelector(n):null})(c(function(t){return n.getAttribute(t)})(["prevtarget","nexttarget","titletarget"])),e=t[0],i=t[1],o=t[2],u=null!=o,p=r(function(n){return n.childNodes},l(function(n){return 1===n.nodeType}),l(function(n){return n.classList.contains("slide-item")})),f=s(function(n){return n.classList.contains("active")}),function(n){var t,e;t=f(n),null==t&&(t=0,n[0].classList.add("active")),t=n[t],u&&null!=(e=t.querySelector(".slide-title"))&&o.appendChild(e)}.call(this,p(n)),h=a(function(t,e){var r,a,i,c,l;return e.stopPropagation(),r=p(n),a=f(r),i=r[a],c=r[((a+t)%(l=r.length)+l)%l],i.classList.remove("active"),c.classList.add("active"),u&&(i.appendChild(o.querySelector(".slide-title")),o.appendChild(c.querySelector(".slide-title"))),c.dispatchEvent(new Event("resize"))}),null!=e&&e.addEventListener("click",h(-1)),null!=i&&i.addEventListener("click",h(1))})},,,,,,function(n,t,e){function r(n,t){for(var e in t)n[e]=t[e];return n}function a(n,t){m.attachValidator(t,function(n){var t;if(""!==n)try{return t=h(n),{value:t,content:n}}catch(n){return n,null}})}function i(n,t){var e,r=function(a){return n.length>1?function(){var i=a?a.concat():[];return e=t?e||this:this,i.push.apply(i,arguments)<n.length&&arguments.length?r.call(e,i):n.apply(e,i)}:n};return r()}function o(){var n=arguments;return function(){var t,e;for(e=n[0].apply(this,arguments),t=1;t<n.length;++t)e=n[t](e);return e}}function u(n,t){t.addEventListener("change",function(e){w[n]=compact(map(o(function(n){return n.getAttribute("value")},JSON.parse))(t.getElementsByTagName("li"))),N()})}var c,l,s,p,f,h,d,v,g,m,y,w,x,b,k,E,z,L,M,A,I,N,S,C,$,q,B=[].slice,P="".split;c=e(3),l=e(0),r(window,l),s=e(2),p=e(5),f=e(7).fft,h=e(6).evaluate,d=e(1),v=d.enumerate,d.trace,d.traceJson,g=d.raise,d.findEdit,e(8),e(11),e(12),m=e(9),y=e(10).attachResizeListener,g("d3",c),w={poles:[],zeros:[],scale:"linear",frequency:Math.PI,gain:1,resolution:256},x={poles:document.querySelector("#poles .list-input"),zeros:document.querySelector("#zeros .list-input")};for(b in x)a.call(this,b,x[b]);k=function(){function n(n,t){var e;map(function(n){return n.remove()})(t.querySelectorAll(":scope > li")),e=w[n],each(function(n){m.appendItem(t,n)})(map(s.toString)(w[n])),m.appendItem(t),w[n]=e}var t,e;for(t in e=x)n.call(this,t,e[t])},E=function(n){var t,e;return t=window.getComputedStyle(n),e=function(n){return parseFloat(t.getPropertyValue(n))},{width:e("width"),height:e("height")}},z=i(function(n,t){return elemIndex(minimumBy(n,t),t)}),L=i(function(n,t){return n=s.top(n),z(o(s.top,s.polar,s.sub(n),s.abs2),t)}),r(r(r(r(M={dim:{t:10,r:10,b:10,l:10}},{svg:c.select("svg#darts"),r:c.scaleLinear().domain([0,1.2])}),{g:M.svg.append("g"),line:c.radialLine().radius(o(function(n){return n[0]},M.r)).angle(o(function(n){return n[1]},negate,function(n){return n+Math.PI/2}))}),{rAxis:M.g.append("g").classed("r-axis",!0),tAxis:(A=M.g.append("g").classed("t-axis",!0),A.selectAll("g").data(c.range(0,360,30)).enter().append("line").style("transform",function(n){return"rotate("+n+"deg)"}),A),zeros:M.g.append("g").classed("zeros",!0),poles:M.g.append("g").classed("poles",!0),cross:"0 2.8,3 5,5 3,2.8 0,5 -3,3 -5,0 -2.8,-3 -5,-5 -3,-2.8 0,-5 3,-3 5"}),{drag:function(n){return c.drag().on("start",function(t){var e,r;e=L(t,w[n]),r=[w[n][e],w[n][0]],w[n][0]=r[0],w[n][e]=r[1]}).on("drag",function(t){var e,r,a,o,u;e=E(M.svg.node()),r=e.width,a=e.height,e=c.event,o=e.x,u=e.y,/Chrome/.test(navigator.userAgent)||(e=zipWith(i(function(n,t){return n-t}),[o,u],map(function(n){return n/2},[r,a])),o=e[0],u=e[1]),w[n][0]=map(M.r.invert,[o,u]),k(),N()})},click:function(n,t){return null==t&&(t=!1),function(e){var r;c.event.preventDefault(),c.event.stopPropagation(),r=w[n].splice(L(e,w[n]),1),t&&("poles"===n?w.zeros.push(r[0]):w.poles.push(r[0])),k(),N()}}}),g("darts",M),M.svg.on("contextmenu",function(){var n,t,e,r,a;c.event.preventDefault(),n=M.dim,n.t,n.r,n.b,n.l,n=E(M.svg.node()),t=n.width,e=n.height,n=c.event,r=n.layerX,a=n.layerY,n=map(M.r.invert,zipWith(i(function(n,t){return n-t}),[r,a],map(function(n){return n/2},[t,e]))),r=n[0],a=n[1],w.zeros.push([r,a]),k(),N()}),(M.resize=function(){var n,t,e,r,a,i,o;n=M.dim,t=n.t,e=n.r,r=n.b,a=n.l,n=E(M.svg.node()),i=n.width,o=n.height,n=[i-a-e,o-t-r],i=n[0],o=n[1],M.g.style("transform","translate("+(i/2+a)+"px,"+(o/2+t)+"px)"),M.r.range([0,Math.min(i,o)/2])})(),(M.rescale=function(){var n;M.rAxis.selectAll("circle").remove(),M.rAxis.selectAll("text").remove(),n=M.rAxis.selectAll("g").data(B.call(M.r.ticks().filter(function(){return arguments[1]%2==0&&1!==arguments[0]}),1)).enter(),n.append("circle").classed("scale",!0),n.append("text").classed("scale",!0),M.rAxis.append("circle").classed("unit",!0),M.rAxis.append("text").classed("unit",!0).data([1])})(),(M.recalc=function(){var n,t,e;n={zeros:["circle",function(n){return n.attr("r",5)}],poles:["polygon",function(n){return n.attr("points",M.cross)}]};for(t in n)e=n[t],M[t].selectAll(e[0]).remove(),function(n){n.call(M.drag(t)).on("contextmenu",M.click(t,!1)).on("dblclick",M.click(t,!0))}(e[1](M[t].selectAll("g").data(map(s.polar,concatMap(s.pair,w[t]))).enter().append(e[0])))})(),(M.reaxis=function(){M.rAxis.selectAll("circle.scale").attr("r",M.r),M.rAxis.selectAll("text").attr("y",o(M.r,function(n){return n+1},negate)).text(id),M.rAxis.select("circle.unit").attr("r",M.r(1)),function(n){M.tAxis.selectAll("line").attr("x2",n)}.call(this,M.r.range()[1])})(),(M.redraw=function(){var n;n=function(n){var t;return t=M.line([n]).slice(1,-1).split(","),"translate("+t[0]+"px,"+t[1]+"px)"},M.zeros.selectAll("circle").style("transform",n),M.poles.selectAll("polygon").style("transform",n)})(),function(n){y(n),n.addEventListener("resize",function(){M.resize(),M.reaxis(),M.redraw()})}.call(this,M.svg.node().parentElement),r(r(r(I={dim:{t:20,r:20,b:30,l:50}},{svg:c.select("svg#score"),x:c.scaleLinear(),y:null}),{g:I.svg.append("g")}),{xAxis:I.g.append("g").classed("x-axis",!0),yAxis:I.g.append("g").classed("y-axis",!0),path:I.g.append("path").classed("line",!0)}),g("score",I),(I.rescale=function(){var n;n={linear:function(){return c.scaleLinear()},decibel:function(){return c.scaleLinear()},logarithmic:function(){return c.scaleLog().base(10)}},I.x.domain([0,w.frequency]),I.y=n[w.scale]()})(),(I.resize=function(){var n,t,e,r,a,i,o;n=I.dim,t=n.t,e=n.r,r=n.b,a=n.l,n=E(I.svg.node()),i=n.width,o=n.height,n=[i-a-e,o-t-r],i=n[0],o=n[1],I.g.style("transform","translate("+a+"px,"+t+"px)"),I.x.range([0,i]),I.y.range([o,0]),I.xAxis.style("transform","translateY("+o+"px)")})(),(I.recalc=function(){switch(I.data=filter(function(n){return null!=n[1]&&!isItNaN(n[1])})(v(map(o(s.abs,function(n){return n*w.gain}))(apply(zipWith(s.div))(map(o(concatMap(s.pair),p.toPolynomial,f(w.resolution),function(n){return take(n.length/2+1,n)}))([w.zeros,w.poles]))))),w.scale){case"logarithmic":I.data=filter(function(n){return n[1]>1e-5})(I.data);break;case"decibel":I.data=map(function(n){return[n[0],20*Math.log10(n[1])]})(filter(function(n){return n[1]>1e-5})(I.data))}})(),(I.redraw=function(){var n,t,e,r,a,i,o,u,l;n=I.dim,t=n.t,e=n.r,r=n.b,a=n.l,n=E(I.svg.node()),i=n.width,o=n.height,n=[i-a-e,o-t-r],i=n[0],o=n[1],n=c.extent(I.data,function(n){return n[1]}),u=n[0],l=n[1],"linear"===w.scale&&(u=0),I.y.domain([u,l]).nice(),I.xAxis.call(c.axisBottom(I.x).tickSizeInner(-o)),I.yAxis.call(c.axisLeft(I.y).tickSizeInner(-i))})(),(I.replot=function(){I.path.datum(I.data).attr("d",c.line().x(o(function(n){return n[0]},function(n){return n*(2*w.frequency/w.resolution)},I.x)).y(o(function(n){return n[1]},I.y)))})(),function(n){y(n),n.addEventListener("resize",function(){I.resize(),I.redraw(),I.replot()})}.call(this,I.svg.node().parentElement),N=function(){var n,t;n=M,n.recalc(),n.reaxis(),n.redraw(),t=I,t.recalc(),t.redraw(),t.replot()},S=function(){var n,t;n=M,n.resize(),n.recalc(),t=I,t.rescale(),t.resize(),t.recalc(),t.redraw(),t.replot()};for(b in x)u.call(this,b,x[b]);C=document.getElementById("options"),function(n){var t;n.value=w.resolution,t=function(t){var e,r,a;e=parseInt(n.value),r=Math.round(Math.log2(e)),a=function(n){return e-n}(function(n){return Math.pow(2,n)}(r)),n.value=Math.min(4096,function(n){return Math.pow(2,n)}(function(n){return n+signum(a)}(r))),w.resolution=n.value,N()},n.addEventListener("change",t),n.addEventListener("click",t)}.call(this,C.querySelector("input[name='resolution']")),function(n){n.value=w.gain,n.addEventListener("change",function(t){w.gain=parseFloat(n.value),N()})}.call(this,C.querySelector("input[name='gain']")),function(n){n.value=w.frequency,n.addEventListener("change",function(t){w.frequency=parseFloat(n.value),S()})}.call(this,C.querySelector("input[name='frequency']")),each(function(n){n.addEventListener("click",function(t){w.scale=n.value,S()})})(C.querySelectorAll("input[name='axis']")),function(n){n.addEventListener("click",function(t){var e,r,a,i,u;return e=map(o(concatMap(s.pair),p.toPolynomial))([w.poles,w.zeros]),r=e[0],a=e[1],a=map(s.mul(s.Complex(w.gain)),a),e=map(o(reverse,map(s.toString),function(n){return n.join(", ")}))([r,a]),r=e[0],a=e[1],e=map(o(concatMap(s.pair),map(s.toString),function(n){return n.join(", ")}))([w.poles,w.zeros]),i=e[0],u=e[1],n.value="B = ["+a+"]\nA = ["+r+"]\nzeros = ["+u+"]\npoles = ["+i+"]"})}.call(this,C.querySelector("textarea[name='export']")),$=i(function(n,t){var e;return t.length<2?t:(e=i(function(t,r,a){var i,o,u,c;switch(i=r[0],o=r[1],u=a[0],c=a[1],!1){case!!(i<u.length):return t.concat(B.call(c,o));case!!(o<c.length):return t.concat(B.call(u,i));case!(n(u[i])<n(c[o])):return t.push(u[i]),e(t,[i+1,o],[u,c]);default:return t.push(c[o]),e(t,[i,o+1],[u,c])}}))([],[0,0])(map($(n))(splitAt(floor(t.length/2))(t)))}),q=function(n){var t,e,r,a,u,c,l,p;return t=i(function(n,t){return 1e-6<Math.abs(n-t)}),e=s.closeTo(1e-6),r=partition(s.isReal,n),a=r[0],u=r[1],c=i(function(n,r,a){var i,o,u,l;switch(i=r[0],o=r[1],u=a[0],l=a[1],!1){case!!(i<u.length):return n.concat(B.call(l,o));case!!(o<l.length):return n.concat(B.call(u,i));case!e(u[i],l[o]):return n.push(u[i]),c(n,[i+1,o+1],[u,l]);case!t(s.real(u[i]),s.real(l[o])):switch(!1){case!s.imag(u[i]<s.imag(l[o])):return n.push(u[i]),c(n,[i+1,o],[u,l]);default:return n.push(l[o]),c(n,[i,o+1],[u,l])}break;case!s.real(u[i]<s.real(l[o])):return n.push(u[i]),c(n,[i+1,o],[u,l]);default:return n.push(l[o]),c(n,[i,o+1],[u,l])}}),r=map(o(sortBy(s.imag),$(s.real)))(partition(o(s.imag,function(n){return n>0}))(u)),l=r[0],p=r[1],function(n){return n.concat(a)}(c([],[0,0])([l,map(s.conj,p)]))},function(n){n.addEventListener("change",function(t){var e,r,a,i;e=[null,null],r=e[0],a=e[1];try{e=map(o(function(t){return t.exec(n.value)},function(n){return n[1]},function(n){return P.call(n,",")},filter(function(n){return""!==n}),map(h)))([/poles?\s*=\s*\[\s*(.*?)\s*\]/im,/zeros?\s*=\s*\[\s*(.*?)\s*\]/im]),r=e[0],a=e[1],C.querySelector("input[name='dedupe']").checked&&(e=map(q,[r,a]),r=e[0],a=e[1])}catch(n){return i=n,void alert(i)}e=[r,a],w.poles=e[0],w.zeros=e[1],k(),N()})}.call(this,C.querySelector("textarea[name='import']"))},function(n,t,e){function r(n,t){var e,r=function(a){return n.length>1?function(){var i=a?a.concat():[];return e=t?e||this:this,i.push.apply(i,arguments)<n.length&&arguments.length?r.call(e,i):n.apply(e,i)}:n};return r()}var a,i,o,u,c,l,s,p,f,h,d,v=void 0!==t&&t||this;a=e(0),i=a.reverse,o=a.any,u=e(4),a=e(1),a.trace,a.list,a.enumerate,c=a.peek,v.multiply=l=r(function(n,t){var e;if(null==n)return!1;if(n instanceof u.Number)e=[t,n],n=e[0],t=e[1];else if(!(t instanceof u.Number))return!1;return n instanceof u.Number&&!(n instanceof u.Constant)?!(t instanceof u.Number&&!(t instanceof u.Constant)):n instanceof u.Constant||n instanceof u.Function}),v.negate=s=r(function(n,t){return t===u.operators["-"]&&(null==n||n instanceof u.LeftBracket||n instanceof u.Operator)}),p=[[l,u.operators["*"]],[s,new u.Number(0)]],v.validate=f=function(n){var t,e,r,a,i,o,u,l,s,f,h,d;for(t=[],e=0,a=(r=p).length;e<a;++e)i=r[e],o=i[0],u=i[1],o(null,n[0])&&t.push(u);for(t.push(n[0]),e=0,a=(r=c(2,n)).length;e<a;++e){for(i=r[e],l=i[0],s=i[1],f=0,h=(i=p).length;f<h;++f)d=i[f],o=d[0],u=d[1],o(l,s)&&t.push(u);t.push(s)}return t},v.clearStack=h=function(n,t){var e;for(null==t&&(t=null),e=[];n.length&&!(n[n.length-1]instanceof u.LeftBracket);)e.push(n.pop());if(0===n.length||null!=t&&n[n.length-1].val!==t.comp)throw new Error("mismatched brackets");return null!=t&&(n.pop(),n.length&&n[n.length-1]instanceof u.Function&&e.push(n.pop())),e},v.comparePrecedence=d=function(n,t){return"l"===n.fix?n.prec<=t.prec:n.prec<t.prec},v.shunting=function(){var n=arguments;return function(){var t,e;for(e=n[0].apply(this,arguments),t=1;t<n.length;++t)e=n[t](e);return e}}(f,function(n){var t,e,r,a,c,l;for(t=[[],[]],e=t[0],r=t[1],a=0,c=n.length;a<c;++a)switch(l=n[a],!1){case!(l instanceof u.Number):r.push(l);break;case!(l instanceof u.Function):case!(l instanceof u.LeftBracket):e.push(l);break;case!(l instanceof u.Separator):r=r.concat(h(e));break;case!(l instanceof u.RightBracket):r=r.concat(h(e,l));break;case!(l instanceof u.Operator):for(;e.length&&e[e.length-1]instanceof u.Operator&&d(l,e[e.length-1]);)r.push(e.pop());e.push(l)}if(o(function(n){return n instanceof u.Bracket},e))throw new Error("mismatched brackets");return r.concat(i(e))})},function(n,t,e){function r(n,t){var e,r=function(a){return n.length>1?function(){var i=a?a.concat():[];return e=t?e||this:this,i.push.apply(i,arguments)<n.length&&arguments.length?r.call(e,i):n.apply(e,i)}:n};return r()}var a,i,o,u,c,l,s,p=void 0!==t&&t||this;a=e(0).compact,i=e(4),o=e(1),u=o.list,o.trace,c={space:[/^(\s+)(.*)/,1,2,[]],number:[/^(\d+(\.\d*)?(e[+-]?\d+)?)(.*)/i,1,4,[]],word:[/^(\w+)(.*)/i,1,2,u(i.constants,i.functions)],other:[/^(.)(.*)/i,1,2,u(i.leftBrackets,i.rightBrackets,i.operators,i.separators)]},l=r(function(n,t){var e,r,a,i,o;return e=n[0],r=n[1],a=n[2],i=n[3],o=e.exec(t),null!=o?[o[r],o[a],i]:null}),s=r(function(n,t){var e,r,a;for(e=0,r=n.length;e<r;++e)if(a=n[e],t in a)return a[t];throw new Error("invalid token")}),p.tokenize=function(){var n=arguments;return function(){var t,e;for(e=n[0].apply(this,arguments),t=1;t<n.length;++t)e=n[t](e);return e}}(function(n){for(var t,e=[];n.length;)switch(!1){case!(t=l(c.space,n)):n=t[1],e.push(void 0);break;case!(t=l(c.number,n)):n=t[1],e.push(new i.Number(parseFloat(t[0])));break;case!(t=l(c.word,n)):n=t[1],e.push(s(t[2],t[0]));break;case!(t=l(c.other,n)):n=t[1],e.push(s(t[2],t[0]))}return e},a)}],[18]);